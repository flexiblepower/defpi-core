{"version":3,"sources":["../../src/Field/Field.js"],"names":[],"mappings":"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","file":"Field.js","sourcesContent":["import stringUtils from \"../Utils/stringUtils\";\n\nclass Field {\n    constructor(name) {\n        this._name = name || Math.random().toString(36).substring(7);\n        this._detailLink = (name === 'id');\n        this._type = \"string\";\n        this._order = null;\n        this._label = null;\n        this._maps = [];\n        this._transforms = [];\n        this._attributes = {};\n        this._cssClasses = null;\n        this._validation = { required: false, minlength : 0, maxlength : 99999 };\n        this._defaultValue = null;\n        this._editable = true;\n        this._sortable = true;\n        this._detailLinkRoute = 'edit';\n        this._pinned = false;\n        this._flattenable = true;\n        this.dashboard = true;\n        this.list = true;\n        this._template = () => '';\n        this._templateIncludesLabel = false;\n    }\n\n    label() {\n        if (arguments.length) {\n            this._label = arguments[0];\n            return this;\n        }\n\n        if (this._label === null) {\n            return stringUtils.camelCase(this._name);\n        }\n\n        return this._label;\n    }\n\n    type() {\n        return this._type;\n    }\n\n    name() {\n        if (arguments.length) {\n            this._name = arguments[0];\n            return this;\n        }\n\n        return this._name;\n    }\n\n    order() {\n        if (arguments.length) {\n            if(arguments[1] !== true) {\n                console.warn('Setting order with Field.order is deprecated, order directly in fields array');\n            }\n            this._order = arguments[0];\n            return this;\n        }\n\n        return this._order;\n    }\n\n    isDetailLink(detailLink) {\n        if (arguments.length) {\n            this._detailLink = arguments[0];\n            return this;\n        }\n\n        if (this._detailLink === null) {\n            return this._name === 'id';\n        }\n\n        return this._detailLink;\n    }\n\n    set detailLink(isDetailLink) {\n        return this._detailLink = isDetailLink;\n    }\n\n    /**\n     * Add a function to be applied to the response object to turn it into an entry\n     */\n    map(fn) {\n        if (!fn) return this._maps;\n        if (typeof(fn) !== \"function\") {\n            let type = typeof(fn);\n            throw new Error(`Map argument should be a function, ${type} given.`);\n        }\n\n        this._maps.push(fn);\n\n        return this;\n    }\n\n    hasMaps() {\n        return !!this._maps.length;\n    }\n\n    getMappedValue(value, entry) {\n        for (let i in this._maps) {\n            value = this._maps[i](value, entry);\n        }\n\n        return value;\n    }\n\n    /**\n     * Add a function to be applied to the entry to turn it into a response object\n     */\n    transform(fn) {\n        if (!fn) return this._transforms;\n        if (typeof(fn) !== \"function\") {\n            let type = typeof(fn);\n            throw new Error(`transform argument should be a function, ${type} given.`);\n        }\n\n        this._transforms.push(fn);\n\n        return this;\n    }\n\n    hasTranforms() {\n        return !!this._transforms.length;\n    }\n\n    getTransformedValue(value, entry) {\n        for (let i in this._transforms) {\n            value = this._transforms[i](value, entry);\n        }\n\n        return value;\n    }\n\n    attributes(attributes) {\n        if (!arguments.length) {\n            return this._attributes;\n        }\n\n        this._attributes = attributes;\n\n        return this;\n    }\n\n    cssClasses(classes) {\n        if (!arguments.length) return this._cssClasses;\n        this._cssClasses = classes;\n        return this;\n    }\n\n    getCssClasses(entry) {\n        if (!this._cssClasses) {\n            return '';\n        }\n\n        if (this._cssClasses.constructor === Array) {\n            return this._cssClasses.join(' ');\n        }\n\n        if (typeof(this._cssClasses) === 'function') {\n            return this._cssClasses(entry);\n        }\n\n        return this._cssClasses;\n    }\n\n    validation(validation) {\n        if (!arguments.length) {\n            return this._validation;\n        }\n\n        for (let property in validation) {\n            if (!validation.hasOwnProperty(property)) continue;\n            if (validation[property] === null) {\n                delete this._validation[property];\n            } else {\n                this._validation[property] = validation[property];\n            }\n        }\n\n        return this;\n    }\n\n    defaultValue(defaultValue) {\n        if (!arguments.length) return this._defaultValue;\n        this._defaultValue = defaultValue;\n        return this;\n    }\n\n    editable(editable) {\n        if (!arguments.length) return this._editable;\n        this._editable = editable;\n        return this;\n    }\n\n    sortable(sortable) {\n        if (!arguments.length) return this._sortable;\n        this._sortable = sortable;\n        return this;\n    }\n\n    detailLinkRoute(route) {\n        if (!arguments.length) return this._detailLinkRoute;\n        this._detailLinkRoute = route;\n        return this;\n    }\n\n    pinned(pinned) {\n        if (!arguments.length) return this._pinned;\n        this._pinned = pinned;\n        return this;\n    }\n\n    flattenable() {\n        return this._flattenable;\n    }\n\n    getTemplateValue(data) {\n        if (typeof(this._template) === 'function') {\n            return this._template(data);\n        }\n\n        return this._template;\n    }\n\n    getTemplateValueWithLabel(data) {\n        return this._templateIncludesLabel ? this.getTemplateValue(data) : false;\n    }\n\n    templateIncludesLabel(templateIncludesLabel) {\n        if (!arguments.length) return this._templateIncludesLabel;\n        this._templateIncludesLabel = templateIncludesLabel;\n        return this;\n    }\n\n    template(template, templateIncludesLabel = false) {\n        if (!arguments.length) return this._template;\n        this._template = template;\n        this._templateIncludesLabel = templateIncludesLabel;\n        return this;\n    }\n}\n\nexport default Field;\n"]}
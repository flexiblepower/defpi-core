{"version":3,"sources":["../../src/Menu/Menu.js"],"names":[],"mappings":"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","file":"Menu.js","sourcesContent":["import Entity from '../Entity/Entity'\n\nfunction alwaysFalse() {\n    return false;\n}\n\nvar uuid = 0;\nvar autoClose = true;\n\nclass Menu {\n    constructor() {\n        this._link = null;\n        this._activeFunc = alwaysFalse;\n        this._title = null;\n        this._icon = false;\n        this._children = [];\n        this._template = false;\n        this._autoClose = true;\n        this.uuid = uuid++;\n    }\n\n    title() {\n        if (arguments.length) {\n            this._title = arguments[0];\n            return this;\n        }\n        return this._title;\n    }\n\n    isLink() {\n        return !!this._link;\n    }\n\n    link() {\n        if (arguments.length) {\n            this._link = arguments[0];\n            if (this._activeFunc == alwaysFalse) {\n                this._activeFunc = url => url.indexOf(this._link) === 0;\n            }\n            return this;\n        }\n        return this._link;\n    }\n\n    autoClose() {\n        if (arguments.length) {\n            autoClose = arguments[0];\n            return this;\n        }\n        return autoClose;\n    }\n\n    active(activeFunc) {\n        if (arguments.length) {\n            this._activeFunc = arguments[0];\n            return this;\n        }\n        return this._activeFunc;\n    }\n\n    isActive(url) {\n        return this._activeFunc(url);\n    }\n\n    isChildActive(url) {\n        return this.isActive(url) || (this.children().filter(menu => menu.isChildActive(url)).length > 0);\n    }\n\n    addChild(child) {\n        if (!(child instanceof Menu)) {\n            throw new Error('Only Menu instances are accepted as children of a Menu');\n        }\n        this._children.push(child);\n        return this;\n    }\n\n    hasChild() {\n        return this._children.length > 0;\n    }\n\n    getChildByTitle(title) {\n        return this.children().filter(child => child.title() == title).pop();\n    }\n\n    children() {\n        if (arguments.length) {\n            this._children = arguments[0];\n            return this;\n        }\n        return this._children;\n    }\n\n    icon() {\n        if (arguments.length) {\n            this._icon = arguments[0];\n            return this;\n        }\n        return this._icon;\n    }\n\n    template() {\n        if (arguments.length) {\n            this._template = arguments[0];\n            return this;\n        }\n        return this._template;\n    }\n\n    populateFromEntity(entity) {\n        if (!(entity instanceof Entity)) {\n            throw new Error('populateFromEntity() only accepts an Entity parameter');\n        }\n        this.title(entity.label());\n        this.active(path => path.indexOf(`/${entity.name()}/`) === 0 );\n        this.link(`/${entity.name()}/list`);\n        // deprecated\n        this.icon(entity.menuView().icon());\n        return this;\n    }\n}\n\nexport default Menu;\n"]}
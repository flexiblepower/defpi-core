{"version":3,"sources":["../../src/Entity/Entity.js"],"names":[],"mappings":";;;;;;;;;;;;gCAAwB,sBAAsB;;;;0BAC5B,gBAAgB;;;;iCACR,uBAAuB;;;;4BAC5B,kBAAkB;;;;4BAClB,kBAAkB;;;;8BAChB,oBAAoB;;;;4BACtB,kBAAkB;;;;8BAChB,oBAAoB;;;;4BACtB,kBAAkB;;;;mCACX,yBAAyB;;;;8BAC9B,oBAAoB;;;;AAE3C,IAAI,KAAK,GAAG,CAAC,CAAC;;IAER,MAAM;AACG,aADT,MAAM,CACI,IAAI,EAAE;8BADhB,MAAM;;AAEJ,YAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAClB,YAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,KAAK,EAAE,CAAC;AAC5C,YAAI,CAAC,WAAW,GAAG,IAAI,CAAC;AACxB,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,YAAI,CAAC,gBAAgB,GAAG,4BAAU,IAAI,CAAC,CAAC;AACxC,YAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AAChB,YAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;AAG1B,YAAI,CAAC,UAAU,EAAE,CAAC;KACrB;;iBAlBC,MAAM;;eA4BH,iBAAG;AACJ,gBAAI,SAAS,CAAC,MAAM,EAAE;AAClB,oBAAI,CAAC,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC3B,uBAAO,IAAI,CAAC;aACf;;AAED,gBAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;AACtB,uBAAO,8BAAY,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5C;;AAED,mBAAO,IAAI,CAAC,MAAM,CAAC;SACtB;;;eAEG,gBAAG;AACH,gBAAI,SAAS,CAAC,MAAM,EAAE;AAClB,oBAAI,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC1B,uBAAO,IAAI,CAAC;aACf;;AAED,mBAAO,IAAI,CAAC,KAAK,CAAC;SACrB;;;eAEO,oBAAG;AACP,mBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SAClC;;;eAEY,yBAAG;AACZ,mBAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;SACvC;;;eAEO,oBAAG;AACP,mBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SAClC;;;eAEW,wBAAG;AACX,mBAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACpC;;;eAEU,uBAAG;AACV,mBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SAClC;;;eAEW,wBAAG;AACX,mBAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACpC;;;eAEc,2BAAG;AACd,mBAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;SACzC;;;eAES,sBAAG;AACT,mBAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACpC;;;eAEO,oBAAG;AACP,mBAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SAClC;;;eAES,oBAAC,WAAU,EAAE;AACnB,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,WAAW,CAAC;AAC/C,gBAAI,CAAC,WAAW,GAAG,WAAU,CAAC;AAC9B,mBAAO,IAAI,CAAC;SACf;;;eAES,sBAAG;AACT,gBAAI,CAAC,MAAM,GAAG;AACV,+BAAe,EAAE,oCAAmB,CAAC,SAAS,CAAC,IAAI,CAAC;AACpD,0BAAU,EAAE,+BAAc,CAAC,SAAS,CAAC,IAAI,CAAC;AAC1C,0BAAU,EAAE,+BAAc,CAAC,SAAS,CAAC,IAAI,CAAC;AAC1C,4BAAY,EAAE,iCAAgB,CAAC,SAAS,CAAC,IAAI,CAAC;AAC9C,0BAAU,EAAE,+BAAc,CAAC,SAAS,CAAC,IAAI,CAAC;AAC1C,4BAAY,EAAE,iCAAgB,CAAC,SAAS,CAAC,IAAI,CAAC;AAC9C,iCAAiB,EAAE,sCAAqB,CAAC,SAAS,CAAC,IAAI,CAAC;AACxD,4BAAY,EAAE,iCAAgB,CAAC,SAAS,CAAC,IAAI,CAAC;AAC9C,0BAAU,EAAE,+BAAc,CAAC,SAAS,CAAC,IAAI,CAAC;aAC7C,CAAC;SACL;;;eAES,oBAAC,KAAK,EAAE;AACd,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,gBAAgB,CAAC;AACpD,gBAAI,EAAE,KAAK,oCAAiB,AAAC,EAAE;AAC3B,sBAAM,IAAI,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,EAAE,GAAG,4CAA4C,CAAC,CAAC;aAC3F;AACD,gBAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAC9B,mBAAO,IAAI,CAAC;SACf;;;eAEO,oBAAG;AACP,gBAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;AAExB,gBAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,EAAE,CAAC;AACpC,gBAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,EAAE,CAAC;AAClC,gBAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,EAAE,CAAC;AACpC,gBAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,OAAO,EAAE,CAAC;;AAEzC,mBAAO,IAAI,CAAC;SACf;;;eAMc,yBAAC,QAAQ,EAAE;AACtB,gBAAI,OAAO,IAAI,CAAC,aAAa,AAAC,KAAK,UAAU,EAAE;AAC3C,uBAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aACvC;;AAED,mBAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;;;eAEW,sBAAC,aAAY,EAAE;AACvB,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC;AACjD,gBAAI,CAAC,aAAa,GAAG,aAAY,CAAC;AAClC,mBAAO,IAAI,CAAC;SACf;;;eAEI,eAAC,MAAK,EAAE;AACT,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC;AAC1C,gBAAI,CAAC,MAAM,GAAG,MAAK,CAAC;AACpB,mBAAO,IAAI,CAAC;SACf;;;eAEE,aAAC,IAAG,EAAE;AACL,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC;AACxC,gBAAI,CAAC,IAAI,GAAG,IAAG,CAAC;AAChB,mBAAO,IAAI,CAAC;SACf;;;eAEK,gBAAC,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE;AAC9C,gBAAI,OAAO,IAAI,CAAC,IAAI,AAAC,KAAK,UAAU,EAAE;AAClC,uBAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC;aAC5E;;AAED,mBAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;eAEW,sBAAC,aAAY,EAAE;AACvB,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC;AACjD,gBAAI,CAAC,aAAa,GAAG,aAAY,CAAC;AAClC,mBAAO,IAAI,CAAC;SACf;;;eAEW,sBAAC,aAAY,EAAE;AACvB,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC;AACjD,gBAAI,CAAC,aAAa,GAAG,aAAY,CAAC;AAClC,mBAAO,IAAI,CAAC;SACf;;;eAEa,wBAAC,eAAc,EAAE;AAC3B,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,eAAe,CAAC;AACnD,gBAAI,CAAC,eAAe,GAAG,eAAc,CAAC;AACtC,mBAAO,IAAI,CAAC;SACf;;;eAEW,sBAAC,aAAY,EAAE;AACvB,gBAAI,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,aAAa,CAAC;AACjD,gBAAI,CAAC,aAAa,GAAG,aAAY,CAAC;AAClC,mBAAO,IAAI,CAAC;SACf;;;aAtKW,YAAG;AACX,mBAAO,IAAI,CAAC,SAAS,CAAC;SACzB;;;aAEQ,YAAG;AACR,mBAAO,IAAI,CAAC,MAAM,CAAC;SACtB;;;aAoGa,YAAG;AACb,mBAAO,IAAI,CAAC,WAAW,CAAC;SAC3B;;;WAhIC,MAAM;;;qBA6LG,MAAM","file":"Entity.js","sourcesContent":["import stringUtils from \"../Utils/stringUtils\";\nimport Field from \"../Field/Field\";\nimport DashboardView from '../View/DashboardView';\nimport MenuView from '../View/MenuView';\nimport ListView from '../View/ListView';\nimport CreateView from '../View/CreateView';\nimport EditView from '../View/EditView';\nimport DeleteView from '../View/DeleteView';\nimport ShowView from '../View/ShowView';\nimport BatchDeleteView from '../View/BatchDeleteView';\nimport ExportView from '../View/ExportView';\n\nvar index = 0;\n\nclass Entity {\n    constructor(name) {\n        this._name = name;\n        this._uniqueId = this._name + '_' + index++;\n        this._baseApiUrl = null;\n        this._label = null;\n        this._identifierField = new Field(\"id\");\n        this._isReadOnly = false;\n        this._errorMessage = null;\n        this._order = 0;\n        this._url = null;\n        this._createMethod = null; // manually set the HTTP-method for create operation, defaults to post\n        this._updateMethod = null; // manually set the HTTP-method for update operation, defaults to put\n        this._retrieveMethod = null; // manually set the HTTP-method for the get operation, defaults to get\n        this._deleteMethod = null; // manually set the HTTP-method for the delete operation, defaults to delete\n\n\n        this._initViews();\n    }\n\n    get uniqueId() {\n        return this._uniqueId;\n    }\n\n    get views() {\n        return this._views;\n    }\n\n    label() {\n        if (arguments.length) {\n            this._label = arguments[0];\n            return this;\n        }\n\n        if (this._label === null) {\n            return stringUtils.camelCase(this._name);\n        }\n\n        return this._label;\n    }\n\n    name() {\n        if (arguments.length) {\n            this._name = arguments[0];\n            return this;\n        }\n\n        return this._name;\n    }\n\n    menuView() {\n        return this._views[\"MenuView\"];\n    }\n\n    dashboardView() {\n        return this._views[\"DashboardView\"];\n    }\n\n    listView() {\n        return this._views[\"ListView\"];\n    }\n\n    creationView() {\n        return this._views[\"CreateView\"];\n    }\n\n    editionView() {\n        return this._views[\"EditView\"];\n    }\n\n    deletionView() {\n        return this._views[\"DeleteView\"];\n    }\n\n    batchDeleteView() {\n        return this._views[\"BatchDeleteView\"];\n    }\n\n    exportView() {\n        return this._views[\"ExportView\"];\n    }\n\n    showView() {\n        return this._views[\"ShowView\"];\n    }\n\n    baseApiUrl(baseApiUrl) {\n        if (!arguments.length) return this._baseApiUrl;\n        this._baseApiUrl = baseApiUrl;\n        return this;\n    }\n\n    _initViews() {\n        this._views = {\n            \"DashboardView\": new DashboardView().setEntity(this),\n            \"MenuView\": new MenuView().setEntity(this),\n            \"ListView\": new ListView().setEntity(this),\n            \"CreateView\": new CreateView().setEntity(this),\n            \"EditView\": new EditView().setEntity(this),\n            \"DeleteView\": new DeleteView().setEntity(this),\n            \"BatchDeleteView\": new BatchDeleteView().setEntity(this),\n            \"ExportView\": new ExportView().setEntity(this),\n            \"ShowView\": new ShowView().setEntity(this)\n        };\n    }\n\n    identifier(value) {\n        if (!arguments.length) return this._identifierField;\n        if (!(value instanceof Field)) {\n            throw new Error('Entity ' + this.name() + ': identifier must be an instance of Field.');\n        }\n        this._identifierField = value;\n        return this;\n    }\n\n    readOnly() {\n        this._isReadOnly = true;\n\n        this._views[\"CreateView\"].disable();\n        this._views[\"EditView\"].disable();\n        this._views[\"DeleteView\"].disable();\n        this._views[\"BatchDeleteView\"].disable();\n\n        return this;\n    }\n\n    get isReadOnly() {\n        return this._isReadOnly;\n    }\n\n    getErrorMessage(response) {\n        if (typeof(this._errorMessage) === 'function') {\n            return this._errorMessage(response);\n        }\n\n        return this._errorMessage;\n    }\n\n    errorMessage(errorMessage) {\n        if (!arguments.length) return this._errorMessage;\n        this._errorMessage = errorMessage;\n        return this;\n    }\n\n    order(order) {\n        if (!arguments.length) return this._order;\n        this._order = order;\n        return this;\n    }\n\n    url(url) {\n        if (!arguments.length) return this._url;\n        this._url = url;\n        return this;\n    }\n\n    getUrl(viewType, identifierValue, identifierName) {\n        if (typeof(this._url) === 'function') {\n            return this._url(this.name(), viewType, identifierValue, identifierName);\n        }\n\n        return this._url;\n    }\n\n    createMethod(createMethod) {\n        if (!arguments.length) return this._createMethod;\n        this._createMethod = createMethod;\n        return this;\n    }\n\n    updateMethod(updateMethod) {\n        if (!arguments.length) return this._updateMethod;\n        this._updateMethod = updateMethod;\n        return this;\n    }\n\n    retrieveMethod(retrieveMethod) {\n        if (!arguments.length) return this._retrieveMethod;\n        this._retrieveMethod = retrieveMethod;\n        return this;\n    }\n\n    deleteMethod(deleteMethod) {\n        if (!arguments.length) return this._deleteMethod;\n        this._deleteMethod = deleteMethod;\n        return this;\n    }\n}\n\nexport default Entity;\n"]}
{"version":3,"sources":["../../../../../src/javascripts/ng-admin/Crud/column/maReferenceColumn.js"],"names":["maReferenceColumn","restrict","scope","field","value","datastore","link","pre","targetEntity","targetField","identifierName","identifier","name","referencedEntry","getFirstEntry","uniqueId","entry","values","template","$inject"],"mappings":";;;;;kBAAwBA,iB;AAAT,SAASA,iBAAT,GAA6B;AACxC,WAAO;AACHC,kBAAU,GADP;AAEHC,eAAO;AACHC,mBAAO,GADJ;AAEHC,mBAAO,GAFJ;AAGHC,uBAAW;AAHR,SAFJ;AAOHC,cAAM;AACFC,iBAAK,aAASL,KAAT,EAAgB;AACjB,oBAAME,QAAQF,MAAME,KAAN,EAAd;AACAF,sBAAMC,KAAN,GAAcD,MAAMC,KAAN,EAAd;AACAD,sBAAMM,YAAN,GAAqBN,MAAMC,KAAN,CAAYK,YAAZ,EAArB;AACAN,sBAAMO,WAAN,GAAoBP,MAAMC,KAAN,CAAYM,WAAZ,EAApB;AACA,oBAAMC,iBAAiBR,MAAMM,YAAN,CAAmBG,UAAnB,GAAgCC,IAAhC,EAAvB;AACAV,sBAAMW,eAAN,GAAwBX,MAAMG,SAAN,GACnBS,aADmB,CACLZ,MAAMM,YAAN,CAAmBO,QAAnB,GAA8B,SADzB,EACoC;AAAA,2BAASC,MAAMC,MAAN,CAAaP,cAAb,KAAgCN,KAAzC;AAAA,iBADpC,CAAxB;AAEH;AATC,SAPH;AAkBHc,kBAAU;AAlBP,KAAP;AAoBH;;AAEDlB,kBAAkBmB,OAAlB,GAA4B,EAA5B","file":"maReferenceColumn.js","sourcesContent":["export default function maReferenceColumn() {\n    return {\n        restrict: 'E',\n        scope: {\n            field: '&',\n            value: '&',\n            datastore: '&'\n        },\n        link: {\n            pre: function(scope) {\n                const value = scope.value();\n                scope.field = scope.field();\n                scope.targetEntity = scope.field.targetEntity();\n                scope.targetField = scope.field.targetField();\n                const identifierName = scope.targetEntity.identifier().name();\n                scope.referencedEntry = scope.datastore()\n                    .getFirstEntry(scope.targetEntity.uniqueId + '_values', entry => entry.values[identifierName] == value);\n            }\n        },\n        template: '<ma-column field=\"::targetField\" entry=\"::referencedEntry\" entity=\"::targetEntity\" datastore=\"::datastore()\"></ma-column>'\n    };\n}\n\nmaReferenceColumn.$inject = [];\n"]}
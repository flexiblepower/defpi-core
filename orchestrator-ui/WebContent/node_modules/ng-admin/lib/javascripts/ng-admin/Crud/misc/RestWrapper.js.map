{"version":3,"sources":["../../../../../src/javascripts/ng-admin/Crud/misc/RestWrapper.js"],"names":["RestWrapper","Restangular","setFullResponse","entityName","url","oneUrl","get","then","response","data","params","allUrl","getList","rawEntity","method","resource","operation","customOperation","customPOST","customPUT","customDELETE","$inject"],"mappings":";;;;;;;;;;IAAqBA,W;AACjB,yBAAYC,WAAZ,EAAyB;AAAA;;AACrB,aAAKA,WAAL,GAAmBA,WAAnB;;AAEAA,oBAAYC,eAAZ,CAA4B,IAA5B;AACH;;AAED;;;;;;;;;;;;+BAQOC,U,EAAYC,G,EAAK;AACpB,mBAAO,KAAKH,WAAL,CACFI,MADE,CACKF,UADL,EACiBC,GADjB,EAEFE,GAFE,GAGFC,IAHE,CAGG,UAAUC,QAAV,EAAoB;AACtB,uBAAOA,SAASC,IAAhB;AACH,aALE,CAAP;AAMH;;AAED;;;;;;;;;;;;gCASQC,M,EAAQP,U,EAAYC,G,EAAK;AAC7B,mBAAO,KAAKH,WAAL,CACFU,MADE,CACKR,UADL,EACiBC,GADjB,EAEFQ,OAFE,CAEMF,MAFN,CAAP;AAGH;;;kCAESG,S,EAAWV,U,EAAYC,G,EAAKU,M,EAAQ;AAC1C,gBAAIC,WAAW,KAAKd,WAAL,CAAiBI,MAAjB,CAAwBF,UAAxB,EAAoCC,GAApC,CAAf;AAAA,gBACIY,YAAYF,SAASC,SAASE,eAAT,CAAyBH,MAAzB,EAAiC,IAAjC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+CD,SAA/C,CAAT,GAAqEE,SAASG,UAAT,CAAoBL,SAApB,CADrF;;AAGA,mBAAOG,UAAUT,IAAV,CAAe,UAAUC,QAAV,EAAoB;AACtC,uBAAOA,SAASC,IAAhB;AACH,aAFM,CAAP;AAGH;;;kCAESI,S,EAAWV,U,EAAYC,G,EAAKU,M,EAAQ;AAC1C,gBAAIC,WAAW,KAAKd,WAAL,CAAiBI,MAAjB,CAAwBF,UAAxB,EAAoCC,GAApC,CAAf;AAAA,gBACIY,YAAYF,SAASC,SAASE,eAAT,CAAyBH,MAAzB,EAAiC,IAAjC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+CD,SAA/C,CAAT,GAAqEE,SAASI,SAAT,CAAmBN,SAAnB,CADrF;;AAGA,mBAAOG,UAAUT,IAAV,CAAe,UAAUC,QAAV,EAAoB;AACtC,uBAAOA,SAASC,IAAhB;AACH,aAFM,CAAP;AAGH;;;kCAESN,U,EAAYC,G,EAAK;AACvB,mBAAO,KAAKH,WAAL,CACNI,MADM,CACCF,UADD,EACaC,GADb,EAEFgB,YAFE,EAAP;AAGH;;;;;;kBA7DgBpB,W;;;AAgErBA,YAAYqB,OAAZ,GAAsB,CAAC,aAAD,CAAtB","file":"RestWrapper.js","sourcesContent":["export default class RestWrapper {\n    constructor(Restangular) {\n        this.Restangular = Restangular;\n\n        Restangular.setFullResponse(true);\n    }\n\n    /**\n     * Returns the promise of one resource by URL\n     *\n     * @param {String} entityName\n     * @param {String} url\n     *\n     * @returns {promise}\n     */\n    getOne(entityName, url) {\n        return this.Restangular\n            .oneUrl(entityName, url)\n            .get()\n            .then(function (response) {\n                return response.data;\n            });\n    }\n\n    /**\n     * Returns the promise of a list of resources\n     *\n     * @param {Object} params\n     * @param {String} entityName\n     * @param {String} url\n     *\n     * @returns {promise}\n     */\n    getList(params, entityName, url) {\n        return this.Restangular\n            .allUrl(entityName, url)\n            .getList(params);\n    }\n\n    createOne(rawEntity, entityName, url, method) {\n        var resource = this.Restangular.oneUrl(entityName, url),\n            operation = method ? resource.customOperation(method, null, {}, {}, rawEntity) : resource.customPOST(rawEntity);\n\n        return operation.then(function (response) {\n            return response.data;\n        });\n    }\n\n    updateOne(rawEntity, entityName, url, method) {\n        var resource = this.Restangular.oneUrl(entityName, url),\n            operation = method ? resource.customOperation(method, null, {}, {}, rawEntity) : resource.customPUT(rawEntity);\n\n        return operation.then(function (response) {\n            return response.data;\n        });\n    }\n\n    deleteOne(entityName, url) {\n        return this.Restangular\n        .oneUrl(entityName, url)\n            .customDELETE();\n    }\n}\n\nRestWrapper.$inject = ['Restangular'];\n"]}
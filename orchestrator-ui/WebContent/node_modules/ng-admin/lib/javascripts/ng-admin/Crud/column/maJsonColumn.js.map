{"version":3,"sources":["../../../../../src/javascripts/ng-admin/Crud/column/maJsonColumn.js"],"names":["maJsonColumn","$compile","restrict","scope","value","link","element","guessType","obj","type","Object","prototype","toString","call","template","newElement","angular","replaceWith","$inject"],"mappings":";;;;;kBAAwBA,Y;AAAT,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;AAC3C,WAAO;AACHC,kBAAU,GADP;AAEHC,eAAO;AACHC,mBAAO;AADJ,SAFJ;AAKHC,cAAM,cAASF,KAAT,EAAgBG,OAAhB,EAAyB;AAC3BH,kBAAMI,SAAN,GAAkB,UAASC,GAAT,EAAc;AAC5B,oBAAIC,OAAOC,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,GAA/B,CAAX;;AAEA,oBAAIC,SAAS,iBAAb,EAAgC;AAC5B,2BAAO,QAAP;AACH;;AAED,oBAAIA,SAAS,gBAAb,EAA+B;AAC3B,2BAAO,OAAP;AACH;;AAED,uBAAO,SAAP;AACH,aAZD;;AAcA,gBAAIK,opCAAJ;;AA2BA,gBAAIC,aAAaC,QAAQV,OAAR,CAAgBQ,QAAhB,CAAjB;AACAb,qBAASc,UAAT,EAAqBZ,KAArB;AACAG,oBAAQW,WAAR,CAAoBF,UAApB;AACH;AAlDE,KAAP;AAoDH;;AAEDf,aAAakB,OAAb,GAAuB,CAAC,UAAD,CAAvB","file":"maJsonColumn.js","sourcesContent":["export default function maJsonColumn($compile) {\n    return {\n        restrict: 'E',\n        scope: {\n            value: '&'\n        },\n        link: function(scope, element) {\n            scope.guessType = function(obj) {\n                var type = Object.prototype.toString.call(obj);\n\n                if (type === \"[object Object]\") {\n                    return \"Object\";\n                }\n\n                if (type === \"[object Array]\") {\n                    return \"Array\";\n                }\n\n                return \"Literal\";\n            };\n\n            var template =\n`<span ng-switch=\"guessType(value())\">\n    <table class=\"table table-condensed\" ng-switch-when=\"Array\">\n        <tbody>\n            <tr ng-repeat=\"val in value() track by $index\">\n                <td ng-switch=\"guessType(val)\">\n                    <ma-json-column ng-switch-when=\"Object\" value=\"::val\"></ma-json-column>\n                    <ma-json-column ng-switch-when=\"Array\" value=\"::val\"></ma-json-column>\n                    <span ng-switch-when=\"Literal\">{{ val }}</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <table class=\"table table-condensed table-bordered\" ng-switch-when=\"Object\">\n        <tbody>\n            <tr ng-repeat=\"(key, val) in value() track by key\">\n                <th class=\"active\">{{ key }}</th>\n                <td ng-switch=\"guessType(val)\">\n                    <ma-json-column ng-switch-when=\"Object\" value=\"::val\"></ma-json-column>\n                    <ma-json-column ng-switch-when=\"Array\" value=\"::val\"></ma-json-column>\n                    <span ng-switch-when=\"Literal\">{{ val }}</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</span>`;\n\n            var newElement = angular.element(template);\n            $compile(newElement)(scope);\n            element.replaceWith(newElement);\n        }\n    };\n}\n\nmaJsonColumn.$inject = ['$compile'];\n"]}
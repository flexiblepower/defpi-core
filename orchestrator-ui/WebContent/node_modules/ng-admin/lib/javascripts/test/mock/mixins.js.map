{"version":3,"sources":["../../../../src/javascripts/test/mock/mixins.js"],"names":["define","buildPromise","output","result","cb","then"],"mappings":";;AAAA;;AAEAA,OAAO,QAAP,EAAiB,EAAjB,EAAqB,YAAY;AAC7B;;AAEA,QAAIC,eAAe,SAAfA,YAAe,CAAUC,MAAV,EAAkB;AACjC,eAAQ,YAAY;AAChB,gBAAIC,MAAJ;AACA,mBAAO;AACH,wBAAQ,cAAUC,EAAV,EAAc;AAClBD,6BAASC,GAAGF,MAAH,CAAT;;AAEA,wBAAIC,UAAUA,OAAOE,IAArB,EAA2B;AACvB;AACA,+BAAOF,MAAP;AACH;;AAED;AACA,2BAAOF,aAAaE,MAAb,CAAP;AACH,iBAXE;AAYH,2BAAW,kBAAUC,EAAV,EAAc;AACrBA;AACA,2BAAO,IAAP;AACH;AAfE,aAAP;AAiBH,SAnBO,EAAR;AAoBH,KArBD;;AAuBA,WAAO;AACHH,sBAAcA;AADX,KAAP;AAGH,CA7BD","file":"mixins.js","sourcesContent":["/*global define*/\n\ndefine('mixins', [], function () {\n    \"use strict\";\n\n    var buildPromise = function (output) {\n        return (function () {\n            var result;\n            return {\n                'then': function (cb) {\n                    result = cb(output);\n\n                    if (result && result.then) {\n                        // The result is already a promise, just return it\n                        return result;\n                    }\n\n                    // We chain the result into a new promise\n                    return buildPromise(result);\n                },\n                'finally': function (cb) {\n                    cb();\n                    return this;\n                }\n            };\n        }());\n    };\n\n    return {\n        buildPromise: buildPromise\n    };\n});\n"]}
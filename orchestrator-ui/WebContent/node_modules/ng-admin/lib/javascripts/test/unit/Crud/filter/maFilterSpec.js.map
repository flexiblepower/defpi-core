{"version":3,"sources":["../../../../../../src/javascripts/test/unit/Crud/filter/maFilterSpec.js"],"names":["describe","directive","require","Field","angular","module","service","string","getFilterWidget","$compile","scope","directiveUsage","beforeEach","mock","inject","_$compile_","_$rootScope_","it","field","element","$digest","expect","html","toContain","template","not"],"mappings":";;AAAA;AACAA,SAAS,sBAAT,EAAiC,YAAY;AACzC;;AAEA,QAAIC,YAAYC,QAAQ,2CAAR,CAAhB;AACA,QAAIC,QAAQD,QAAQ,8BAAR,CAAZ;AACAE,YAAQC,MAAR,CAAe,gBAAf,EAAiC,EAAjC,EACKJ,SADL,CACe,UADf,EAC2BA,SAD3B,EAEKK,OAFL,CAEa,wBAFb,EAEuC;AAAA,eAAO,EAAEC,QAAQ,EAAEC,iBAAiB;AAAA,2BAAM,OAAN;AAAA,iBAAnB,EAAV,EAAP;AAAA,KAFvC;;AAIA,QAAIC,QAAJ;AAAA,QACIC,KADJ;AAAA,QAEIC,iBAAiB,+FAFrB;;AAIAC,eAAWR,QAAQS,IAAR,CAAaR,MAAb,CAAoB,gBAApB,CAAX;;AAEAO,eAAWE,OAAO,UAAUC,UAAV,EAAsBC,YAAtB,EAAoC;AAClDP,mBAAWM,UAAX;AACAL,gBAAQM,YAAR;AACH,KAHU,CAAX;;AAKAC,OAAG,+EAAH,EAAoF,YAAY;AAC5FP,cAAMQ,KAAN,GAAc,IAAIf,KAAJ,CAAU,KAAV,CAAd;AACA,YAAIgB,UAAUV,SAASE,cAAT,EAAyBD,KAAzB,CAAd;AACAA,cAAMU,OAAN;AACAC,eAAOF,QAAQG,IAAR,EAAP,EAAuBC,SAAvB,CAAiC,OAAjC;AACH,KALD;;AAOAN,OAAG,uEAAH,EAA4E,YAAY;AACpFP,cAAMQ,KAAN,GAAc,IAAIf,KAAJ,CAAU,KAAV,EAAiBqB,QAAjB,CAA0B,OAA1B,CAAd;AACA,YAAIL,UAAUV,SAASE,cAAT,EAAyBD,KAAzB,CAAd;AACAA,cAAMU,OAAN;AACAC,eAAOF,QAAQG,IAAR,EAAP,EAAuBG,GAAvB,CAA2BF,SAA3B,CAAqC,OAArC;AACAF,eAAOF,QAAQG,IAAR,EAAP,EAAuBC,SAAvB,CAAiC,OAAjC;AACH,KAND;AAQH,CAnCD","file":"maFilterSpec.js","sourcesContent":["/*global angular,inject,describe,it,expect,beforeEach*/\ndescribe('directive: ma-filter', function () {\n    'use strict';\n\n    var directive = require('../../../../ng-admin/Crud/filter/maFilter');\n    var Field = require('admin-config/lib/Field/Field');\n    angular.module('testapp_Filter', [])\n        .directive('maFilter', directive)\n        .service('FieldViewConfiguration', () => ({ string: { getFilterWidget: () => 'DUMMY' } }));\n\n    var $compile,\n        scope,\n        directiveUsage = '<ma-filter field=\"::field\" values=\"values\" value=\"value\" datastore=\"::dataStore\"></ma-filter>';\n\n    beforeEach(angular.mock.module('testapp_Filter'));\n\n    beforeEach(inject(function (_$compile_, _$rootScope_) {\n        $compile = _$compile_;\n        scope = _$rootScope_;\n    }));\n\n    it(\"should render the FilterWidget from the fieldView Configuration for that type\", function () {\n        scope.field = new Field('foo');\n        var element = $compile(directiveUsage)(scope);\n        scope.$digest();\n        expect(element.html()).toContain('DUMMY');\n    });\n\n    it(\"should render the Field template instead of the FilterWidget when set\", function () {\n        scope.field = new Field('foo').template('YOPLA');\n        var element = $compile(directiveUsage)(scope);\n        scope.$digest();\n        expect(element.html()).not.toContain('DUMMY');\n        expect(element.html()).toContain('YOPLA');\n    });\n\n});\n"]}